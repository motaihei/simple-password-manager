# CLAUDE.md

このファイルは、Claude Code (claude.ai/code) がこのリポジトリのコードを扱う際のガイダンスを提供します。

## 言語設定

- **会話言語**: このプロジェクトに関するすべての会話は日本語で行ってください
- **コメント**: コード内のコメントは日本語で記述してください
- **ドキュメント**: すべてのドキュメントは日本語で作成してください

## 開発環境

このプロジェクトはWSL（Windows Subsystem for Linux）上で開発されていますが、すべてのnpmコマンドと実行時の処理はWindows上で行われます。アプリケーションは主にWindowsでのデプロイとテストを対象としています。

- **開発**: WSL上でのコード編集とバージョン管理
- **実行**: Windows上でのnpmコマンド、テスト、アプリの実行
- **ターゲットプラットフォーム**: Windows（主要な配布・動作環境）

## 開発コマンド

- **アプリケーションの起動**: `npm start` - Electronアプリを起動（Windowsで実行）
- **依存関係のインストール**: `npm install` - すべてのプロジェクト依存関係をインストール（Windowsで実行）

## アーキテクチャ概要

これはセキュリティに重点を置いたアーキテクチャを持つ基本的なElectronアプリケーションです：

- **main.js**: アプリケーションウィンドウを作成・管理するメインプロセスのエントリーポイント。contextIsolationを有効、nodeIntegrationを無効にした安全なwebPreferencesを実装。
- **index.html**: アプリケーションコンテンツとバージョン情報を表示するレンダラープロセスのUI
- **preload.js**: contextBridgeを使用したメインプロセスとレンダラープロセス間のセキュリティブリッジ。現在、レンダラーに安全なAPIを公開するためのプレースホルダー構造を含む。

## セキュリティ設定

アプリケーションはElectronのセキュリティベストプラクティスに従っています：
- コンテキスト分離が有効
- レンダラーでのNode統合が無効
- リモートモジュールが無効
- プロセス間の安全な通信のためにプリロードスクリプトを使用

## 主要ファイルの関係

- メインプロセス（main.js）はHTMLファイルをロードし、プリロードスクリプトを設定
- プリロードスクリプト（preload.js）はelectronAPIをレンダラープロセスのwindowオブジェクトに公開
- レンダラープロセス（index.html）はwindow.electronAPI経由で公開されたAPIにアクセス可能

## 実装ログ作成ルール

機能を実装する際は、完了した作業単位ごとに実装ログを作成してください：
- `implementation-logs/`ディレクトリにログを保存
- 時系列順に番号付きプレフィックスを使用（例：`01-feature-name.md`）
- 各ログには以下を含める：
  - 実装日時
  - 実装した機能
  - 変更/作成したファイル
  - 主要な決定事項
  - 遭遇した問題と解決策